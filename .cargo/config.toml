[build]
# 禁用增量编译以减少PDB文件大小
incremental = false

[target.x86_64-pc-windows-msvc]
# 完全禁用调试信息以避免PDB限制问题 (LNK1318)
rustflags = [
    "-C", "debuginfo=0",
    "-C", "strip=symbols",
    "-C", "link-arg=/DEBUG:NONE",
    "-C", "link-arg=/INCREMENTAL:NO",
]

[env]
# 禁用 Rust backtrace 以减少调试信息
RUST_BACKTRACE = "0"
# Protobuf 编译器路径 - 留空让系统自动查找
# 如果在 Windows 上需要手动设置，请取消下面两行的注释并修改路径
# PROTOC = "C:\\protoc\\bin\\protoc.exe"
# PROTOC_INCLUDE = "C:\\protoc\\include"
